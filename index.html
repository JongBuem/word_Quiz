<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ë‹¨ì–´ ìƒì„±ê¸° + í€´ì¦ˆ (PWA)</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="style.css" />

    <script>
      // ğŸŒ“ ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ê¸°ëŠ¥ ì¶”ê°€
      function applyTheme(theme) {
        document.body.className = theme;
        localStorage.setItem("theme", theme);
        const toggleBtn = document.getElementById("themeToggle");
        if (toggleBtn) {
          if (theme === "dark") {
            toggleBtn.innerHTML = "â˜€ï¸";
          } else {
            toggleBtn.innerHTML = "ğŸŒ™";
          }
        }
      }

      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ í…Œë§ˆ ì ìš©
      window.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "light";
        applyTheme(savedTheme);

        const toggleBtn = document.getElementById("themeToggle");
        if (toggleBtn) {
          toggleBtn.onclick = () => {
            const currentTheme = document.body.className;
            const newTheme = currentTheme === "light" ? "dark" : "light";
            applyTheme(newTheme);
          };
        }
      });

      // PWA Service Worker ë“±ë¡
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker.register("sw.js");
        });
      }
    </script>
  </head>

  <body class="light">
    <button id="themeToggle" class="theme-toggle" style="display: flex">
      ğŸŒ™ ë‹¤í¬
    </button>

    <h1 class="title">ğŸ“š ë‹¨ì–´ ìƒì„±ê¸° + í€´ì¦ˆ</h1>

    <div id="app"></div>

    <script src="app.js"></script>
  </body>
</html>
